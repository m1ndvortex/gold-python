/* RTL/LTR CSS Framework for Dual-Language System */

/* ===== CSS CUSTOM PROPERTIES FOR DIRECTIONAL VALUES ===== */
@layer utilities {
  :root {
    /* Directional spacing properties */
    --spacing-start: 0;
    --spacing-end: 0;
    --spacing-inline-start: 0;
    --spacing-inline-end: 0;
    
    /* Directional positioning properties */
    --position-start: auto;
    --position-end: auto;
    --position-inline-start: auto;
    --position-inline-end: auto;
    
    /* Directional border properties */
    --border-start: 0;
    --border-end: 0;
    --border-inline-start: 0;
    --border-inline-end: 0;
    
    /* Directional border radius properties */
    --border-radius-start: 0;
    --border-radius-end: 0;
    --border-radius-top-start: 0;
    --border-radius-top-end: 0;
    --border-radius-bottom-start: 0;
    --border-radius-bottom-end: 0;
    
    /* Text alignment properties */
    --text-align-start: left;
    --text-align-end: right;
    
    /* Flex direction properties */
    --flex-direction-row: row;
    --flex-direction-row-reverse: row-reverse;
    
    /* Transform properties for icons and elements */
    --transform-flip: scaleX(1);
    --transform-rotate-chevron: rotate(0deg);
    
    /* Direction-aware shadows */
    --shadow-start: -4px 0 8px rgba(0, 0, 0, 0.1);
    --shadow-end: 4px 0 8px rgba(0, 0, 0, 0.1);
  }

  /* RTL-specific custom properties */
  [dir="rtl"] {
    /* Directional spacing properties */
    --spacing-start: var(--spacing-right, 0);
    --spacing-end: var(--spacing-left, 0);
    --spacing-inline-start: var(--spacing-right, 0);
    --spacing-inline-end: var(--spacing-left, 0);
    
    /* Directional positioning properties */
    --position-start: right;
    --position-end: left;
    --position-inline-start: right;
    --position-inline-end: left;
    
    /* Directional border properties */
    --border-start: var(--border-right, 0);
    --border-end: var(--border-left, 0);
    --border-inline-start: var(--border-right, 0);
    --border-inline-end: var(--border-left, 0);
    
    /* Directional border radius properties */
    --border-radius-start: var(--border-radius-right, 0);
    --border-radius-end: var(--border-radius-left, 0);
    --border-radius-top-start: var(--border-radius-top-right, 0);
    --border-radius-top-end: var(--border-radius-top-left, 0);
    --border-radius-bottom-start: var(--border-radius-bottom-right, 0);
    --border-radius-bottom-end: var(--border-radius-bottom-left, 0);
    
    /* Text alignment properties */
    --text-align-start: right;
    --text-align-end: left;
    
    /* Flex direction properties */
    --flex-direction-row: row-reverse;
    --flex-direction-row-reverse: row;
    
    /* Transform properties for icons and elements */
    --transform-flip: scaleX(-1);
    --transform-rotate-chevron: rotate(180deg);
    
    /* Direction-aware shadows */
    --shadow-start: 4px 0 8px rgba(0, 0, 0, 0.1);
    --shadow-end: -4px 0 8px rgba(0, 0, 0, 0.1);
  }
}

/* ===== BASE RTL/LTR STYLES ===== */
@layer utilities {
  /* Base direction and text alignment */
  .rtl {
    direction: rtl;
    text-align: right;
  }

  .ltr {
    direction: ltr;
    text-align: left;
  }

  /* Typography base styles */
  .rtl * {
    font-family: inherit;
    text-align: inherit;
  }

  .ltr * {
    font-family: inherit;
    text-align: inherit;
  }

  /* Base text alignment utilities */
  .text-start {
    text-align: var(--text-align-start);
  }

  .text-end {
    text-align: var(--text-align-end);
  }

  /* Base positioning utilities */
  .start-0 {
    inset-inline-start: 0;
  }

  .end-0 {
    inset-inline-end: 0;
  }

  .start-auto {
    inset-inline-start: auto;
  }

  .end-auto {
    inset-inline-end: auto;
  }
}

/* ===== SPACING UTILITIES ===== */
@layer utilities {
  /* Margin utilities */
  .ms-0 { margin-inline-start: 0; }
  .ms-1 { margin-inline-start: 0.25rem; }
  .ms-2 { margin-inline-start: 0.5rem; }
  .ms-3 { margin-inline-start: 0.75rem; }
  .ms-4 { margin-inline-start: 1rem; }
  .ms-5 { margin-inline-start: 1.25rem; }
  .ms-6 { margin-inline-start: 1.5rem; }
  .ms-8 { margin-inline-start: 2rem; }
  .ms-10 { margin-inline-start: 2.5rem; }
  .ms-12 { margin-inline-start: 3rem; }

  .me-0 { margin-inline-end: 0; }
  .me-1 { margin-inline-end: 0.25rem; }
  .me-2 { margin-inline-end: 0.5rem; }
  .me-3 { margin-inline-end: 0.75rem; }
  .me-4 { margin-inline-end: 1rem; }
  .me-5 { margin-inline-end: 1.25rem; }
  .me-6 { margin-inline-end: 1.5rem; }
  .me-8 { margin-inline-end: 2rem; }
  .me-10 { margin-inline-end: 2.5rem; }
  .me-12 { margin-inline-end: 3rem; }

  /* Padding utilities */
  .ps-0 { padding-inline-start: 0; }
  .ps-1 { padding-inline-start: 0.25rem; }
  .ps-2 { padding-inline-start: 0.5rem; }
  .ps-3 { padding-inline-start: 0.75rem; }
  .ps-4 { padding-inline-start: 1rem; }
  .ps-5 { padding-inline-start: 1.25rem; }
  .ps-6 { padding-inline-start: 1.5rem; }
  .ps-8 { padding-inline-start: 2rem; }
  .ps-10 { padding-inline-start: 2.5rem; }
  .ps-12 { padding-inline-start: 3rem; }

  .pe-0 { padding-inline-end: 0; }
  .pe-1 { padding-inline-end: 0.25rem; }
  .pe-2 { padding-inline-end: 0.5rem; }
  .pe-3 { padding-inline-end: 0.75rem; }
  .pe-4 { padding-inline-end: 1rem; }
  .pe-5 { padding-inline-end: 1.25rem; }
  .pe-6 { padding-inline-end: 1.5rem; }
  .pe-8 { padding-inline-end: 2rem; }
  .pe-10 { padding-inline-end: 2.5rem; }
  .pe-12 { padding-inline-end: 3rem; }
}

/* ===== BORDER UTILITIES ===== */
@layer utilities {
  /* Border start/end utilities */
  .border-s { border-inline-start: 1px solid; }
  .border-e { border-inline-end: 1px solid; }
  .border-s-0 { border-inline-start: 0; }
  .border-e-0 { border-inline-end: 0; }
  .border-s-2 { border-inline-start: 2px solid; }
  .border-e-2 { border-inline-end: 2px solid; }

  /* Border radius utilities */
  .rounded-s { border-start-start-radius: 0.25rem; border-end-start-radius: 0.25rem; }
  .rounded-e { border-start-end-radius: 0.25rem; border-end-end-radius: 0.25rem; }
  .rounded-s-none { border-start-start-radius: 0; border-end-start-radius: 0; }
  .rounded-e-none { border-start-end-radius: 0; border-end-end-radius: 0; }
  .rounded-s-lg { border-start-start-radius: 0.5rem; border-end-start-radius: 0.5rem; }
  .rounded-e-lg { border-start-end-radius: 0.5rem; border-end-end-radius: 0.5rem; }
}

/* ===== FLEXBOX UTILITIES ===== */
@layer utilities {
  /* Flex direction utilities */
  .flex-row-dir {
    flex-direction: var(--flex-direction-row);
  }

  .flex-row-reverse-dir {
    flex-direction: var(--flex-direction-row-reverse);
  }

  /* Justify content with direction awareness */
  .justify-start-dir {
    justify-content: flex-start;
  }

  .justify-end-dir {
    justify-content: flex-end;
  }

  [dir="rtl"] .justify-start-dir {
    justify-content: flex-end;
  }

  [dir="rtl"] .justify-end-dir {
    justify-content: flex-start;
  }
}

/* ===== POSITIONING UTILITIES ===== */
@layer utilities {
  /* Absolute positioning */
  .start-0 { inset-inline-start: 0; }
  .start-1 { inset-inline-start: 0.25rem; }
  .start-2 { inset-inline-start: 0.5rem; }
  .start-3 { inset-inline-start: 0.75rem; }
  .start-4 { inset-inline-start: 1rem; }
  .start-5 { inset-inline-start: 1.25rem; }
  .start-6 { inset-inline-start: 1.5rem; }
  .start-8 { inset-inline-start: 2rem; }
  .start-10 { inset-inline-start: 2.5rem; }
  .start-12 { inset-inline-start: 3rem; }

  .end-0 { inset-inline-end: 0; }
  .end-1 { inset-inline-end: 0.25rem; }
  .end-2 { inset-inline-end: 0.5rem; }
  .end-3 { inset-inline-end: 0.75rem; }
  .end-4 { inset-inline-end: 1rem; }
  .end-5 { inset-inline-end: 1.25rem; }
  .end-6 { inset-inline-end: 1.5rem; }
  .end-8 { inset-inline-end: 2rem; }
  .end-10 { inset-inline-end: 2.5rem; }
  .end-12 { inset-inline-end: 3rem; }
}

/* ===== TRANSFORM UTILITIES ===== */
@layer utilities {
  /* Icon and element flipping */
  .flip-rtl {
    transform: var(--transform-flip);
  }

  .rotate-chevron {
    transform: var(--transform-rotate-chevron);
    transition: transform 0.2s ease;
  }

  /* Preserve LTR for specific elements */
  .preserve-ltr {
    direction: ltr !important;
    text-align: left !important;
  }

  .preserve-rtl {
    direction: rtl !important;
    text-align: right !important;
  }
}

/* ===== COMPONENT-SPECIFIC RTL STYLES ===== */
@layer components {
  /* Sidebar RTL styles */
  .sidebar-rtl {
    right: 0;
    left: auto;
    border-left: 1px solid var(--border-color, #e5e7eb);
    border-right: none;
  }

  .sidebar-ltr {
    left: 0;
    right: auto;
    border-right: 1px solid var(--border-color, #e5e7eb);
    border-left: none;
  }

  /* Navigation RTL styles */
  .nav-item-rtl {
    text-align: right;
    padding-right: 1rem;
    padding-left: 0.5rem;
  }

  .nav-item-ltr {
    text-align: left;
    padding-left: 1rem;
    padding-right: 0.5rem;
  }

  /* Dropdown RTL styles */
  .dropdown-rtl {
    right: 0;
    left: auto;
    text-align: right;
  }

  .dropdown-ltr {
    left: 0;
    right: auto;
    text-align: left;
  }

  /* Modal RTL styles */
  .modal-rtl {
    text-align: right;
  }

  .modal-ltr {
    text-align: left;
  }

  /* Form RTL styles */
  .form-rtl input,
  .form-rtl textarea,
  .form-rtl select {
    text-align: right;
    padding-right: 0.75rem;
    padding-left: 2.5rem; /* Space for icons */
  }

  .form-ltr input,
  .form-ltr textarea,
  .form-ltr select {
    text-align: left;
    padding-left: 0.75rem;
    padding-right: 2.5rem; /* Space for icons */
  }

  /* Form label RTL styles */
  .form-label-rtl {
    text-align: right;
    margin-right: 0;
    margin-left: 0.5rem;
  }

  .form-label-ltr {
    text-align: left;
    margin-left: 0;
    margin-right: 0.5rem;
  }

  /* Checkbox and radio RTL styles */
  .checkbox-rtl,
  .radio-rtl {
    margin-right: 0;
    margin-left: 0.5rem;
  }

  .checkbox-ltr,
  .radio-ltr {
    margin-left: 0;
    margin-right: 0.5rem;
  }

  /* Table RTL styles */
  .table-rtl {
    direction: rtl;
  }

  .table-rtl th,
  .table-rtl td {
    text-align: right;
  }

  .table-rtl th:first-child,
  .table-rtl td:first-child {
    border-radius: 0 0.375rem 0.375rem 0;
  }

  .table-rtl th:last-child,
  .table-rtl td:last-child {
    border-radius: 0.375rem 0 0 0.375rem;
  }

  .table-ltr {
    direction: ltr;
  }

  .table-ltr th,
  .table-ltr td {
    text-align: left;
  }

  .table-ltr th:first-child,
  .table-ltr td:first-child {
    border-radius: 0.375rem 0 0 0.375rem;
  }

  .table-ltr th:last-child,
  .table-ltr td:last-child {
    border-radius: 0 0.375rem 0.375rem 0;
  }

  /* Button RTL styles */
  .btn-rtl {
    text-align: center;
  }

  .btn-ltr {
    text-align: center;
  }

  /* Icon positioning in buttons */
  .btn-icon-start-rtl {
    margin-right: 0.5rem;
    margin-left: 0;
  }

  .btn-icon-end-rtl {
    margin-left: 0.5rem;
    margin-right: 0;
  }

  .btn-icon-start-ltr {
    margin-left: 0;
    margin-right: 0.5rem;
  }

  .btn-icon-end-ltr {
    margin-right: 0;
    margin-left: 0.5rem;
  }

  /* Card RTL styles */
  .card-rtl {
    text-align: right;
  }

  .card-ltr {
    text-align: left;
  }

  /* Badge RTL styles */
  .badge-rtl {
    text-align: center;
  }

  .badge-ltr {
    text-align: center;
  }

  /* Toast/notification RTL styles */
  .toast-rtl {
    right: 1rem;
    left: auto;
    text-align: right;
  }

  .toast-ltr {
    left: 1rem;
    right: auto;
    text-align: left;
  }

  /* Tooltip RTL styles */
  .tooltip-rtl {
    text-align: right;
  }

  .tooltip-ltr {
    text-align: left;
  }
}

/* ===== RESPONSIVE RTL UTILITIES ===== */
@layer utilities {
  /* Mobile-first responsive utilities */
  @media (min-width: 640px) {
    .sm\:ms-0 { margin-inline-start: 0; }
    .sm\:ms-4 { margin-inline-start: 1rem; }
    .sm\:me-0 { margin-inline-end: 0; }
    .sm\:me-4 { margin-inline-end: 1rem; }
    .sm\:ps-0 { padding-inline-start: 0; }
    .sm\:ps-4 { padding-inline-start: 1rem; }
    .sm\:pe-0 { padding-inline-end: 0; }
    .sm\:pe-4 { padding-inline-end: 1rem; }
  }

  @media (min-width: 768px) {
    .md\:ms-0 { margin-inline-start: 0; }
    .md\:ms-6 { margin-inline-start: 1.5rem; }
    .md\:me-0 { margin-inline-end: 0; }
    .md\:me-6 { margin-inline-end: 1.5rem; }
    .md\:ps-0 { padding-inline-start: 0; }
    .md\:ps-6 { padding-inline-start: 1.5rem; }
    .md\:pe-0 { padding-inline-end: 0; }
    .md\:pe-6 { padding-inline-end: 1.5rem; }
  }

  @media (min-width: 1024px) {
    .lg\:ms-0 { margin-inline-start: 0; }
    .lg\:ms-8 { margin-inline-start: 2rem; }
    .lg\:me-0 { margin-inline-end: 0; }
    .lg\:me-8 { margin-inline-end: 2rem; }
    .lg\:ps-0 { padding-inline-start: 0; }
    .lg\:ps-8 { padding-inline-start: 2rem; }
    .lg\:pe-0 { padding-inline-end: 0; }
    .lg\:pe-8 { padding-inline-end: 2rem; }
  }
}

/* ===== ANIMATION AND TRANSITION UTILITIES ===== */
@layer utilities {
  /* Smooth transitions for direction changes */
  .transition-direction {
    transition: all 0.3s ease;
  }

  .transition-transform {
    transition: transform 0.2s ease;
  }

  .transition-spacing {
    transition: margin 0.2s ease, padding 0.2s ease;
  }

  /* Hover effects that respect direction */
  .hover-translate-start:hover {
    transform: translateX(var(--translate-start, -0.25rem));
  }

  .hover-translate-end:hover {
    transform: translateX(var(--translate-end, 0.25rem));
  }

  [dir="rtl"] .hover-translate-start:hover {
    transform: translateX(0.25rem);
  }

  [dir="rtl"] .hover-translate-end:hover {
    transform: translateX(-0.25rem);
  }
}

/* ===== PRINT STYLES ===== */
@media print {
  .rtl {
    direction: rtl;
    text-align: right;
  }

  .ltr {
    direction: ltr;
    text-align: left;
  }

  /* Ensure proper text alignment in print */
  .text-start {
    text-align: var(--text-align-start);
  }

  .text-end {
    text-align: var(--text-align-end);
  }
}

/* ===== ACCESSIBILITY ENHANCEMENTS ===== */
@layer utilities {
  /* Focus styles that respect direction */
  .focus-ring-start:focus {
    box-shadow: var(--shadow-start);
  }

  .focus-ring-end:focus {
    box-shadow: var(--shadow-end);
  }

  /* High contrast mode support */
  @media (prefers-contrast: high) {
    .rtl,
    .ltr {
      border: 1px solid;
    }
  }

  /* Reduced motion support */
  @media (prefers-reduced-motion: reduce) {
    .transition-direction,
    .transition-transform,
    .transition-spacing {
      transition: none;
    }
  }
}

/* ===== UTILITY CLASSES FOR AUTOMATIC APPLICATION ===== */
@layer utilities {
  /* Auto-apply direction based on language */
  [lang="fa"],
  [lang="ar"],
  [lang="he"],
  [lang="ur"] {
    direction: rtl;
    text-align: right;
  }

  [lang="en"],
  [lang="fr"],
  [lang="de"],
  [lang="es"] {
    direction: ltr;
    text-align: left;
  }

  /* Force direction regardless of language */
  .force-rtl {
    direction: rtl !important;
    text-align: right !important;
  }

  .force-ltr {
    direction: ltr !important;
    text-align: left !important;
  }
}